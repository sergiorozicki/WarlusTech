<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proformas</title>
    
    <link rel="stylesheet" type="text/css" href="/stylesheets/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/DataTables/datatables.min.css"/>
    <link rel="stylesheet" type="text/css" href="/stylesheets/dashboard.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/comun.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/icons/adminLTE-2.4.15/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/icons/bootstrap-5.1/bootstrap-icons.css">
    
</head>
<body>
    <header class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow mb-3">
        <div class="navbar-brand col-md-3 col-lg-2 me-0 px-3">Men&uacute;</div>
        <button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <input class="form-control bg-dark w-100" type="text" aria-label="Search" disabled>
        <div class="btn-group">
          <button type="button" class="btn btn-secondary dropdown-toggle rounded-pill" data-bs-toggle="dropdown" data-bs-display="static" aria-expanded="false">
            Opciones
          </button>
          <ul class="dropdown-menu dropdown-menu-lg-end">
            <li><a class="dropdown-item" href="/logout"><i class="fa fa-power-off"></i> Cerrar sesi&oacute;n</a></li>
            <li><button id="btn_cambiar_password" class="dropdown-item"><i class="fa fa-unlock-alt"></i> Cambiar contase&ntilde;a</button></li>
            <li><button id="btn_asignar_logo" class="dropdown-item"><i class="fa fa-file-image-o"></i> Logo proforma</button></li>
          </ul>
        </div>
    </header>
    
    <div class="container-fluid">
        <div class="row">
          <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block sidebar collapse" style="background-color: rgb(230,230,230);">
            <div class="position-sticky pt-3">
              <ul class="nav flex-column">
                <li class="nav-item">
                  <a class="nav-link" aria-current="page" href="./reclamo">
                    <i class="fa fa-exclamation-triangle"></i>
                    Reclamos
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link active" aria-current="page" href="./proforma">
                    <i class="fa fa-list-alt"></i>
                    Proformas
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="./repuesto">
                    <i class="fa fa-cogs"></i>
                    Repuestos
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="./planilla">
                    <i class="fa fa-table"></i>
                    Planillas
                  </a>
                </li>
              </ul>
            </div>
          </nav>
                  
          <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">

            <div class="accordion mb-3" id="accordionPanelsStayOpenExample">
              <div class="accordion-item">
                <h2 class="accordion-header" id="panelsStayOpen-headingTwo">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false" aria-controls="panelsStayOpen-collapseTwo">
                    Mercado libre
                  </button>
                </h2>
                <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingTwo">
                  <div class="accordion-body">
                    <iframe src="https://www.mercadolibre.com.ar/" width="100%" height="400"></iframe>
                  </div>
                </div>
              </div>
            </div>

            <div class="d-grid gap-2 d-md-flex justify-content-md-between">
              <div>
                <div class="btn-group">
                  <button id="btn_actualizar" class="btn btn-outline-dark me-md-2 rounded-pill" data-bs-toggle="tooltip" data-bs-placement="top" title="Actualizar" type="button">
                    <span id="span_actualizar" class="spinner-border spinner-border-sm visually-hidden" role="status" aria-hidden="true"></span>
                    <i class="fa fa-refresh"></i>
                  </button>
                </div>
              </div>
              <div>
                <div class="btn-group">
                  <button id="btn_nueva_proforma" class="btn btn-outline-primary me-md-2 rounded-pill" data-bs-toggle="tooltip" data-bs-placement="top" title="Nueva proforma" type="button">
                      <span id="span_nueva_proforma" class="spinner-border spinner-border-sm visually-hidden" role="status" aria-hidden="true"></span>
                      <i class="fa fa-plus-circle"></i>
                      Nueva
                  </button>
                  <button id="btn_editar_proforma" class="btn btn-outline-primary me-md-2 rounded-pill" data-bs-toggle="tooltip" data-bs-placement="top" title="Editar proforma" type="button">
                      <span id="span_editar_proforma" class="spinner-border spinner-border-sm visually-hidden" role="status" aria-hidden="true"></span>
                      <i class="fa fa-pencil"></i>
                      Editar
                  </button>
                  <button id="btn_generar_pdf" class="btn btn-outline-primary me-md-2 rounded-pill" data-bs-toggle="tooltip" data-bs-placement="top" title="Generar pdf" type="button">
                      <span class="spinner-border spinner-border-sm visually-hidden" role="status" aria-hidden="true"></span>
                      <i class="fa fa-file-pdf-o"></i>
                      Generar pdf
                  </button>
                </div>
              </div>
          </div><br>
            <div class="table-responsive">
              <table id="tbl_proforma" class="table table-hover table-sm table-bordered text-dark">
                <thead class="thead-light">
                  <tr>
                    <th scope="col">Cliente</th>
                    <th scope="col">Producto/Marca</th>
                    <th scope="col">Modelo</th>
                    <th scope="col">Observaci&oacute;n</th>
                  </tr>
                </thead>
                <tbody>
                </tbody>
              </table>
            </div>
          </main>
        </div>
      </div>

      <div class="modal fade" id="divFormularioProforma" tabindex="-1" aria-labelledby="tituloFormulario" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="tituloFormulario">Nueva proforma</h5>
              <button type="button" class="btn-close btn-outline-danger rounded-pill" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <form id="formularioProforma" novalidate>
                <div class="mb-3 row">
                  <label for="dni" class="col-sm-2 col-form-label">D.N.I.</label>
                  <div class="col-sm-10">
                    <input type="number" class="form-control" id="dni" required>
                    <div class="invalid-feedback">Ingrese un valor v&aacute;lido (solo n&uacute;meros).</div>
                  </div>
                </div><hr>
                <div class="mb-3 row">
                  <label for="apellido" class="col-sm-2 col-form-label">Apellido</label>
                  <div class="col-sm-10">
                    <input type="text" class="form-control" id="apellido" required>
                    <div class="invalid-feedback">Ingrese un valor v&aacute;lido.</div>
                  </div>
                </div><hr>
                <div class="mb-3 row">
                  <label for="nombre" class="col-sm-2 col-form-label">Nombre</label>
                  <div class="col-sm-10">
                    <input type="text" class="form-control" id="nombre" required>
                    <div class="invalid-feedback">Ingrese un valor v&aacute;lido.</div>
                  </div>
                </div><hr>
                <div class="mb-3 row">
                  <label for="telefono" class="col-sm-2 col-form-label">Tel&eacute;fono</label>
                  <div class="col-sm-10">
                    <input type="number" class="form-control" id="telefono" required>
                    <div class="invalid-feedback">Ingrese un valor v&aacute;lido (solo n&uacute;meros).</div>
                  </div>
                </div><hr>
                <div class="mb-3 row">
                  <label for="email" class="col-sm-2 col-form-label">Correo electr&oacute;nico</label>
                  <div class="col-sm-10">
                    <input type="email" class="form-control" id="email" required>
                    <div class="invalid-feedback">Ingrese un valor v&aacute;lido (solo n&uacute;meros).</div>
                  </div>
                </div><hr>
                <div class="mb-3 row">
                  <label for="direccion" class="col-sm-2 col-form-label">Direcci&oacute;n</label>
                  <div class="col-sm-10">
                    <input type="text" class="form-control" id="direccion" required>
                    <div class="invalid-feedback">Ingrese un valor v&aacute;lido.</div>
                  </div>
                </div><hr>
                <div class="mb-3 row">
                  <label for="localidad" class="col-sm-2 col-form-label">Localidad</label>
                  <div class="col-sm-10">
                    <input type="text" class="form-control" id="localidad" required>
                    <div class="invalid-feedback">Ingrese un valor v&aacute;lido.</div>
                  </div>
                </div><hr>
                <div class="mb-3 row">
                  <label for="codigoPostal" class="col-sm-2 col-form-label">C&oacute;digo postal</label>
                  <div class="col-sm-10">
                    <input type="number" class="form-control" id="codigoPostal" required>
                    <div class="invalid-feedback">Ingrese un valor v&aacute;lido (solo n&uacute;meros).</div>
                  </div>
                </div><hr>
                <div class="mb-3 row">
                  <label for="selectProducto" class="col-sm-2 col-form-label">Productos</label>
                  <div class="col-sm-10">
                    <select class="form-select text-capitalize" id="selectProducto" required>
                      <option value="">Seleccionar producto...</option>
                    </select>
                    <div class="invalid-feedback">Seleccione una opci&oacute;n.</div>
                  </div>
                </div><hr>
                <div class="mb-3 row">
                  <label for="selectModelo" class="col-sm-2 col-form-label">Modelos</label>
                  <div class="col-sm-10">
                    <select class="form-select text-capitalize" id="selectModelo" required>
                      <option value="">Seleccionar modelo...</option>
                    </select>
                    <div class="invalid-feedback">Seleccione una opci&oacute;n.</div>
                  </div>
                </div><hr>
                <div class="mb-3 row">
                  <label for="observacion" class="col-sm-2 col-form-label">Observaci&oacute;n</label>
                  <div class="col-sm-10">
                    <textarea class="form-control" id="observacion" rows="10" required></textarea>
                    <div class="invalid-feedback">Ingrese un valor v&aacute;lido</div>
                  </div>
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-outline-danger rounded-pill" data-bs-dismiss="modal"><i class="fa fa-ban"></i> Cancelar</button>
              <button type="button" id="btn_guardar" class="btn btn-outline-primary rounded-pill"><i class="fa fa-paper-plane-o"></i> Guardar</button>
              <button type="button" id="btn_guardar_generar_pdf" class="btn btn-outline-primary rounded-pill"><i class="fa fa-file-pdf-o"></i> Guardar y generar pdf</button>
            </div>
          </div>
        </div>
      </div>

      <div class="modal fade" id="divFormularioChangePassword" tabindex="-1" aria-labelledby="tituloFormulario" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="tituloFormularioChangePassword">Cambiar contrase&ntilde;a</h5>
              <button type="button" class="btn-close btn-outline-danger rounded-pill" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <form id="formularioChangePassword" novalidate>
                <div class="mb-3 row">
                  <label for="passwordActual" class="col-sm-2 col-form-label">Contrase&ntilde;a actual</label>
                  <div class="col-sm-10">
                    <input type="password" class="form-control" id="passwordActual" required>
                    <div class="invalid-feedback">Ingrese un valor v&aacute;lido.</div>
                  </div>
                </div><hr>
                <div class="mb-3 row">
                  <label for="passwordNueva" class="col-sm-2 col-form-label">Nueva contase&ntilde;a</label>
                  <div class="col-sm-10">
                    <input type="password" class="form-control" id="passwordNueva" required>
                    <div class="invalid-feedback">Ingrese un valor v&aacute;lido.</div>
                  </div>
                </div><hr>
                <div class="mb-3 row">
                  <label for="passwordConfirmar" class="col-sm-2 col-form-label">Confirmar contase&ntilde;a</label>
                  <div class="col-sm-10">
                    <input type="password" class="form-control" id="passwordConfirmar" required>
                    <div class="invalid-feedback">Ingrese un valor v&aacute;lido.</div>
                  </div>
                </div><hr>
                <ul id="listaModelo" class="list-group">
                </ul>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-outline-danger rounded-pill" data-bs-dismiss="modal"><i class="fa fa-ban"></i> Cancelar</button>
              <button type="button" id="btn_guardar_change_password" class="btn btn-outline-primary rounded-pill">
                <i class="fa fa-paper-plane-o"></i>
                <span id="span_guardar_change_password" class="spinner-border spinner-border-sm visually-hidden" role="status" aria-hidden="true"></span>
                Guardar
              </button>
            </div>
          </div>
        </div>
      </div>

      <div class="modal fade" id="divFormularioAsignarLogo" tabindex="-1" aria-labelledby="tituloFormulario" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="tituloFormularioAsignarLogo">Asignar logo</h5>
              <button type="button" class="btn-close btn-outline-danger rounded-pill" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <form id="formularioAsignarLogo" novalidate>
                <div class="mb-3 row">
                  <label for="logo" class="col-sm-2 col-form-label">Seleccione su logo</label>
                  <div class="col-sm-10">
                    <input type="file" class="form-control" id="logo" accept="image/*" required>
                    <div class="invalid-feedback">Seleccione un archivo (solo fotos).</div>
                  </div>
                </div><hr>
                <ul id="listaModelo" class="list-group">
                </ul>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-outline-danger rounded-pill" data-bs-dismiss="modal"><i class="fa fa-ban"></i> Cancelar</button>
              <button type="button" id="btn_guardar_asignar_logo" class="btn btn-outline-primary rounded-pill">
                <i class="fa fa-paper-plane-o"></i>
                <span id="span_guardar_asignar_logo" class="spinner-border spinner-border-sm visually-hidden" role="status" aria-hidden="true"></span>
                Guardar
              </button>
            </div>
          </div>
        </div>
      </div>

    <script type="text/javascript" src="/javascripts/jquery.min.js"></script>
    <script type="text/javascript" src="/javascripts/jspdf.min.js"></script>
    <script type="text/javascript" src="/javascripts/datatables.min.js"></script>
    <script type="text/javascript" src="/javascripts/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="/javascripts/sweetalert2@11.js"></script>
    <script type="text/javascript" src="/javascripts/errors.js"></script>
    <script type="text/javascript" src="/javascripts/ajax.js"></script>
    <script type="text/javascript" src="/javascripts/comun.js"></script>
    <script type="text/javascript" src="/javascripts/tecnico/proforma.js"></script>
</body>
</html>